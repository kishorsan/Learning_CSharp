@page "/todo"
@rendermode InteractiveServer

<PageTitle>TodoList</PageTitle>

<h3>Todo (@todos.Count(todo => !todo.IsDone))</h3>
<ul>
    @foreach(var todo in todos){
        <li>
            <input type="checkbox" @bind="todo.IsDone">
            <input @bind="todo.Title" >
            <button onclice="@RemoveTodo">Remove</button>
        </li>
    }
</ul>

<input placeholder="something ToDo" @bind="newTodo" />
<button onclick="@AddTodo" >Add Todo</button>

@code {
    private List<TodoItem> todos = [];
    private String newTodo;
    private TodoItem todo;

    private void AddTodo(){
        if(!String.IsNullOrWhiteSpace(newTodo)){
            todos.Add(new TodoItem { Title = newTodo });
            newTodo = "";
        }
    }

    private void RemoveTodo(String title){
        todos.Remove(new TodoItem { Title = title });
    }
}
